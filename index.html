<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="stylesheet" href="style.css" />
    <title>Big Block of Cheese: Opening Up Opportunities within Government</title>
	<script src="https://kit.fontawesome.com/23729f37bc.js" crossorigin="anonymous"></script>
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-NR91N9YVKX"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'G-NR91N9YVKX');
	</script>
	  <link rel="stylesheet" href="https://use.typekit.net/mks5yas.css">

	  
  </head>
  <body>
	  
    <!-- svg icons used throughout the project, in the corner of each meaningful container -->
    <svg style="display: none" viewBox="0 0 100 100" width="40" height="40">
      <!-- ! each symbol has its own viewbox -->
      <symbol id="keyboard" viewBox="0 0 100 60">
        <rect
          x="0"
          y="0"
          width="100"
          height="60"
          rx="5"
          fill="#ffc600"
        ></rect>
        <g id="keys">
          <rect
            id="key"
            x="14"
            y="10"
            width="12"
            height="10"
            rx="2"
            fill="#fdefbb"
          ></rect>
          <use href="#key" transform="translate(20 0)"></use>
          <use href="#key" transform="translate(40 0)"></use>
          <use href="#key" transform="translate(60 0)"></use>
        </g>
        <use href="#keys" transform="translate(0 15)"></use>
        <use href="#keys" transform="translate(0 30)"></use>
        <rect
          transform="translate(34 30)"
          x="0"
          y="10"
          width="32"
          height="10"
          rx="2"
          fill="#fbd95a"
        ></rect>
      </symbol>
      <symbol id="table" viewBox="0 0 90 100">
        <rect
          x="0"
          y="0"
          width="90"
          height="100"
          rx="5"
          fill="#ffc600"
        ></rect>
        <rect
          id="row"
          x="15"
          y="19.5"
          width="60"
          height="6"
          fill="#fdefbb"
        ></rect>
        <use
          id="tone"
          href="#row"
          transform="translate(0 20)"
          opacity="0.7"
        ></use>
        <!-- apparently it is possible to use another <use> element -->
        <use href="#row" transform="translate(0 40)"></use>
        <use href="#tone" transform="translate(0 40)"></use>
      </symbol>

      <symbol id="chart" viewBox="0 0 100 100">
        <rect
          x="0"
          y="0"
          width="100"
          height="100"
          rx="5"
          fill="#ffc600"
        ></rect>
        <g fill="#fdefbb">
          <rect x="20" y="15" width="60" height="12" rx="2"></rect>
          <rect x="20" y="41.5" width="30" height="12" rx="2"></rect>
          <rect x="20" y="68" width="20" height="12" rx="2"></rect>
          <circle cx="66" cy="66" r="14"></circle>
        </g>
      </symbol>
    </svg>

    <!-- in a wrapper container specify three areas for the three components
        - main, describing a textarea and button elements to interact with the application
        - section, nesting the table highglighting the words by frequency
        - section, including the svg visually relating the same frequency
        -->
    <div class="container">
      <main class="input">
        <svg class="icon" viewBox="0 0 100 60" width="75" height="45">
          <use href="#keyboard"></use>
        </svg>
		<h1>Can Your City Compete in the Future of Work?</h1>
		<p>Based on rigorous academic research, this tool enables local governments to test if their job postings meet the best practices in the industry. Although many criteria go into recruitment efforts, this application is a simple way to see if municipal job listings reflecting messaging for the Future of Work. Paste your municipality's job description below, and see the scorecard, content breakdown, and rankings.</p>
        <textarea id="myText" placeholder="This early *prototype* content analysis tool is for demonstrative, testing purposes only. You can try to paste in one of your municipality's job posts to see how it stacks up against best practices and other large U.S. cities, with the understanding that results and findings will change."></textarea>
        <div class="controls">
          <button id="freq" class="count">Analyze Your Text</button>
          <button class="update">Try a Sample Job Posting</button>
        </div>
      </main>
	  
      <section class="spreadsheet">
        <svg class="icon" viewBox="0 0 90 100" width="45" height="50">
          <use href="#table"></use>
        </svg>
        <!-- ! hard coded values
                ultimately the table is populated with the words retrieved from the textarea element
                -->
        <table>
	  <tr>
	    <th colspan="2" >Best Practice Scorecard</th>
	  </tr>
	  <tr>
  	    <td class="title">Insurance</td>
	    <td id="insurance-text" class="score">?</td>
  	  </tr>
  	  <tr>
  	    <td class="title">Wellness</td>
	    <td id="wellness-text" class="score">?</td>
	  </tr>
  	  <tr>
  	    <td class="title">EAP</td>
	    <td id="eap-text" class="score">?</td>
	  </tr>
	  <tr>
	    <td class="title" >Telework</td>
	    <td id="telework-text" class="score">?</td>
	  </tr>
  	  <tr>
  	    <td class="title">Transit Subsidy</td>
	    <td id="transit-text" class="score">?</td>
	  </tr>
  	  <tr>
  	    <td class="title">Relocation</td>
	    <td id="relocation-text" class="score">?</td>
	  </tr>
  	  <tr>
  	    <td class="title">Training</td>
	    <td id="training-text" class="score">?</td>
	  </tr>
        </table>
		<br>
		<h4 id="wordletitle" class="hidden"></h4>
		<p id="generalResult" class="hidden"></p>
		<p id="results" class="hidden"></p>
		<p class="testBox"></p>
		<canvas id="myChart"></canvas>
      </section>	  
	  
  	<script>
  		document.getElementById('freq').onclick = function(){
			
			var goodnews = '<i class="fa-solid fa-square-check  green"></i>';
			var badnews = '<i class="fa-solid fa-ban fa-lg red"></i>';
			  
  		   var text_value = document.getElementById('myText').value.toLowerCase();
		  
  		   if (text_value.includes("telework") || text_value.includes("work from home") || text_value.includes("hybrid") || text_value.includes("flexible work") === true) {
  		     document.getElementById('telework-text').innerHTML = goodnews ;}
  		       else { document.getElementById('telework-text').innerHTML = badnews;
  		   };
		   
  		   if (text_value.includes("insurance") === true) {
  		     document.getElementById('insurance-text').innerHTML = goodnews;}
  		 	   else { document.getElementById('insurance-text').innerHTML = badnews;
  		   };
		   
  		   if (text_value.includes("wellness") === true) {
  		     document.getElementById('wellness-text').innerHTML = goodnews;}
			   else { document.getElementById('wellness-text').innerHTML = badnews;
  		   };
		   
  		   if (text_value.includes("eap") || text_value.includes("employee assistance program") || text_value.includes("employee assistance programs") === true) {
  		     document.getElementById('eap-text').innerHTML = goodnews;}
			   else { document.getElementById('eap-text').innerHTML = badnews;

  		   };
  		   if (text_value.includes("transportation") || text_value.includes("transit") === true) {
  		     document.getElementById('transit-text').innerHTML = goodnews;}
			   else { document.getElementById('transit-text').innerHTML = badnews;

  		   };
  		   if (text_value.includes("training") || text_value.includes("educational") || text_value.includes("professional development") || text_value.includes("tuition") === true) {
  		     document.getElementById('training-text').innerHTML = goodnews;}
			   else { document.getElementById('training-text').innerHTML = badnews;

  		   };
  		   if (text_value.includes("relocation") === true) {
  		     document.getElementById('relocation-text').innerHTML = goodnews;}
			   else { document.getElementById('relocation-text').innerHTML = badnews;

  		   };
		   

  		};
  	</script>
      <section class="chart" style="position: relative">
        <svg class="icon" viewBox="0 0 100 100" width="50" height="50">
          <use href="#chart"></use>
        </svg>
	  <h4>Where Does Your Municipality Stack up?</h4>
	  <p>Try out the tool above with a job posting from your city. View all 87 large (250K+ population) <a href="https://abhinemani.com/bigblock/figures.html">scores in these interactive maps and charts.</a></p> 
		
        <svg class="graphic" viewBox="0 0 100 100" width="300" height="300">
          <g transform="translate(5 5)">
            <path
              d="M 0 0 v 90"
              fill="none"
              stroke="currentColor"
              stroke-width="0.5"
            ></path>
            <g transform="translate(0 10)" id="yourmuni" >
              <path
                d="M 0 0 h 30"
                fill="none"
                stroke="grey"
                stroke-width="1"
              ></path>
              <g transform="translate(30 0)">
                <circle cx="0" cy="0" r="2" fill="grey"></circle>
                <text x="5" y="0" dominant-baseline="middle" font-size="4.5">
                  You (?)
                </text>
              </g>
            </g>
            <g transform="translate(0 25)">
              <path
                d="M 0 0 h 50"
                fill="none"
                stroke="currentColor"
                stroke-width="1"
              ></path>
              <g transform="translate(50 0)">
                <circle cx="0" cy="0" r="2" fill="currentColor"></circle>
                <text x="5" y="0" dominant-baseline="middle" font-size="4.5">
                  Mesa (6/7)
                </text>
              </g>
            </g>
            <g transform="translate(0 40)">
              <path
                d="M 0 0 h 40"
                fill="none"
                stroke="currentColor"
                stroke-width="1"
              ></path>
              <g transform="translate(40 0)">
                <circle cx="0" cy="0" r="2" fill="currentColor"></circle>
                <text x="5" y="0" dominant-baseline="middle" font-size="4.5">
                  Austin (5/7)
                </text>
              </g>
            </g>
            <g transform="translate(0 55)">
              <path
                d="M 0 0 h 35"
                fill="none"
                stroke="currentColor"
                stroke-width="1"
              ></path>
              <g transform="translate(35 0)">
                <circle cx="0" cy="0" r="2" fill="currentColor"></circle>
                <text x="5" y="0" dominant-baseline="middle" font-size="4.5">
                  Anaheim (4/7)
                </text>
              </g>
            </g>
            <g transform="translate(0 70)">
              <path
                d="M 0 0 h 30"
                fill="none"
                stroke="currentColor"
                stroke-width="1"
              ></path>
              <g transform="translate(30 0)">
                <circle cx="0" cy="0" r="2" fill="currentColor"></circle>
                <text x="5" y="0" dominant-baseline="middle" font-size="4.5">
                  Cleveland (3/7)
                </text>
              </g>
          </g>
            <g id="yourmuni" transform="translate(0 85)">
                <path
                  d="M 0 0 h 15"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="1"
                ></path>
                <g transform="translate(15 0)">
                  <circle cx="0" cy="0" r="2" fill="currentColor"></circle>
                  <text x="5" y="0" dominant-baseline="middle" font-size="4.5">
                    Fort Wayne (2/7)
                  </text>
                </g>
          </g>
        </svg>
		<p> 
			See the full list & methodology <em>(in progress)</em><br />
			<a href="https://www.youtube.com/watch?v=Vm9HZq53rqU">About this project</a>
	  	  <br /><small>Note: This is a prototype tool for demonstrative purposes only, <a href="https://github.com/abhinemani/bigblock">still under development</a>.</small>
			
			
		</p>
      </section>
    </div>
	  <script src='https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js'></script>
	<script src='https://cdn.jsdelivr.net/npm/chart.js@2.8.0'></script><script  src="script.js"></script>
	
  </body>
  
</html>